{
  "children": [
    {
      "component": "Box",
      "props": {
        "flexDirection": "column",
        "width": "100%"
      },
      "children": [
        {
          "component": "Box",
          "props": {
            "padding": 10
          },
          "onlyShowIf": {
            "user.data.code": "{{props.userID}}"
          },
          "children": [
            {
              "component": "EventButton",
              "props": {
                "eventType": "ROUTE_CHANGE",
                "buttonCode": "profile/add-association-history",
                "text": "Add Association",
                "color": "#202532",
                "textColor": "#FFF",
                "paddingY": 15,
                "paddingX": 15
              }
            }
          ]
        },
        {
          "component": "Box",
          "props": {
            "paddingX": 10,
            "flexDirection": "column"
          },
          "onlyShowIf": {
            "query.associationLinks": {
              "$size": {
                "$gt": 0
              }
            }
          },
          "repeat": "_query.associationLinks",
          "children": {
            "component": "Sublayout",
            "props": {
              "layoutName": "association/association.card",
              "itemID": "{{repeater.code}}"
            }
          }
        },
        {
          "component": "Box",
          "props": {
            "backgroundColor": "white",
            "padding": 20,
            "width": "100%",
            "justifyContent": "center"
          },
          "dontShowIf": {
            "query.associationLinks": {
              "$size": {
                "$gt": 0
              }
            }
          },
          "children": [
            {
              "component": "Text",
              "props": {
                "text": "No groups or associations to show.",
                "color": "black",
                "size": "xs"
              }
            }
          ]
        }
      ]
    }
  ],
  "query": [
    {
      "operator": "getBE",
      "id": "{{props.userID}}",
      "as": "profile"
    },
    {
      "operator": "scope",
      "path": "profile",
      "scope": {
        "operator": "populateBEGAttributes",
        "as": "attributes"
      }
    },
    {
      "operator": "scope",
      "path": "profile.links",
      "as": "associationLinks",
      "scope": {
        "operator": "find",
        "query": {
          "valueString": {
            "$eq": "ASSOCIATION"
          }
        }
      }
    },
    {
      "operator": "scope",
      "path": "associationLinks",
      "scope": {
        "operator": "getBE",
        "basePath": "baseEntities.data",
        "id": "{{link.targetCode}}"
      }
    }
  ]
}