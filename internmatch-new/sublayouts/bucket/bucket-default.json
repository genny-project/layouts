{
  "layout": {
    "title": "{{props.title}}",
    "appColor": "white",
    "backgroundColor": "white"
  },
  "children": [
    {
      "children": [
        {
          "component": "Box",
          "props": {
            "flexDirection": "column",
            "alignItems": "center",
            "justifyContent": "center",
            "flex": 1,
            "padding": 20
          },
          "children": [
            {
              "component": "Selection",
              "props": {
                "mode": "toggle",
                "useSelectableComponents": true
              },
              "children": [
                {
                  "component": "Pagination",
                  "props": {
                    "code": "{{props.rootCode}}"
                  },
                  "children": [
                    {
                      "component": "BucketView",
                      "props": {
                        "tabBarSize": "md",
                        "backgroundColor": "#f6f6f6",
                        "tabBarBackground": "#3f3f3f",
                        "activeTabBackground": "#232323",
                        "iconColor": "white",
                        "iconSize": "md",
                        "labelColor": "white",
                        "labelProps": {
                          "transform": "upperCase"
                        },
                        "overflowX": "auto",
                        "overflowY": "auto",
                        "width": "100%",
                        "gutter": 20,
                        "contentProps": {
                          "minWidth": 240
                        }
                      },
                      "repeat": "_query",
                      "children": {
                        "component": "Sublayout",
                        "props": {
                          "layoutName": "bucket/column/column-default",
                          "columnData": "_repeater",
                          "data": "_props.bucketData",
                          "onScroll": "_onScroll",
                          "cardLayout": "{{props.cardLayout}}"
                        }
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "query": [
        {
          "operator": "getBE",
          "id": "GRP_APPLICATIONS",
          "as": "applications"
        },
        {
          "operator": "scope",
          "path": "applications.links",
          "scope": {
            "operator": "getBE",
            "basePath": "baseEntities.data",
            "as": "be",
            "id": "{{link.targetCode}}",
            "filterOutEmpty": true
          }
        },
        {
          "operator": "map",
          "fields": "applications.links"
        },
        {
          "operator": "sort",
          "by": "weight",
          "direction": "asc"
        },
        {
          "operator": "map",
          "fields": "be"
        },
        {
          "operator": "scope",
          "path": "links",
          "scope": {
            "operator": "getBE",
            "basePath": "baseEntities.data",
            "as": "be",
            "id": "{{link.targetCode}}"
          }
        },
        {
          "operator": "scope",
          "path": "links",
          "scope": {
            "operator": "find",
            "query": {
              "be.code": {
                "$exists": true
              }
            }
          }
        },
        {
          "operator": "map",
          "fields": {
            "name": "name",
            "code": "code",
            "items": "links"
          }
        },
        {
          "operator": "scope",
          "path": "items",
          "scope": {
            "operator": "map",
            "fields": "be"
          }
        },
        {
          "operator": "scope",
          "path": "items",
          "scope": {
            "operator": "populateAttributes",
            "code": "{{code}}",
            "as": "attributes"
          }
        },
        {
          "operator": "scope",
          "path": "items",
          "scope": {
            "operator": "getBE",
            "id": "{{attributes.PRI_APPLICANT_CODE.value}}",
            "as": "applicant"
          }
        },
        {
          "operator": "scope",
          "path": "items",
          "scope": {
            "operator": "scope",
            "path": "applicant",
            "scope": {
              "operator": "populateAttributes",
              "code": "{{code}}",
              "as": "attributes"
            }
          }
        },
        {
          "operator": "scope",
          "path": "items",
          "scope": {
            "operator": "sort",
            "by": [
              "attributes.PRI_GRP_IN_PROGRESS_DATE.value",
              "attributes.PRI_GRP_PLACED_DATE.value",
              "attributes.PRI_GRP_OFFERED_DATE.value",
              "attributes.PRI_GRP_INTERVIEWS_DATE.value",
              "attributes.PRI_GRP_SHORTLISTED_DATE.value",
              "attributes.PRI_GRP_APPLIED_DATE.value"
            ],
            "direction": "desc"
          }
        }
      ]
    }
  ]
}